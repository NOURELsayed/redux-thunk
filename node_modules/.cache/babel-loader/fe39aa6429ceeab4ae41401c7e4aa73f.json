{"ast":null,"code":"var _jsxFileName = \"/media/norhan/New Volume/work/React-projects/test-redux/src/containers/RegisterPage/Sections/EnterPhoneNumberSection.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Form } from \"semantic-ui-react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userActions } from \"../../../actions\";\nimport \"./styles.css\";\nimport { checkPhoneValidity, setRegisterStep, validatorActions } from \"../../../actions\";\nimport { useCallback } from \"react\"; // InputContanierDiv.ar\n//OTPInputsForm\n\nconst EnterPhoneNumberSection = props => {\n  const {\n    t\n  } = useTranslation();\n  const disptach = useDispatch();\n  const [phone, setPhone] = useState(\"\");\n  var step = useSelector(state => state.registerReducer.step);\n  const phoneError = useSelector(state => state.registerReducer.phoneError);\n  const Inputvalidtion = useSelector(state => {\n    var _state$validation$err;\n\n    return (_state$validation$err = state.validation.errors) === null || _state$validation$err === void 0 ? void 0 : _state$validation$err.phone;\n  });\n  const schema = {\n    required: [\"phone\"],\n    properties: {\n      phone: {\n        title: \"phone\",\n        type: \"string\",\n        pattern: \"^01[0-2|5]{1}[0-9]{8}$\"\n      }\n    }\n  };\n  useEffect(() => {\n    if (phoneError) {\n      return;\n    }\n\n    if (step === 4) {\n      setPhone(\"\");\n    }\n  }, [phoneError, step]);\n  const handleSubmit = useCallback(e => {\n    var _location$search, _location$pathname;\n\n    if (!phone || phone && phone.length < 11 && step < 3) {} else {}\n\n    const location = props.location;\n    const token = location === null || location === void 0 ? void 0 : (_location$search = location.search) === null || _location$search === void 0 ? void 0 : _location$search.split(\"=\")[1];\n    const type = location === null || location === void 0 ? void 0 : (_location$pathname = location.pathname) === null || _location$pathname === void 0 ? void 0 : _location$pathname.split(\"/\")[1];\n    disptach(checkPhoneValidity({\n      phone,\n      token,\n      type\n    }));\n  }, [phone]);\n\n  function toEnglishDigits(str) {\n    var e = \"۰\".charCodeAt(0);\n    str = str.replace(/[۰-۹]/g, function (t) {\n      return t.charCodeAt(0) - e;\n    });\n    e = \"٠\".charCodeAt(0);\n    str = str.replace(/[٠-٩]/g, function (t) {\n      return t.charCodeAt(0) - e;\n    });\n    return str;\n  }\n\n  const onChangePhoneNumber = useCallback(e => {\n    const englishNumber = toEnglishDigits(e.target.value);\n    disptach(validatorActions.validateInput(schema, e.target.name, englishNumber));\n    setPhone(englishNumber);\n    disptach(setRegisterStep(1));\n  }, []);\n  const language = localStorage.getItem(\"i18nextLng\");\n  const formDisabled = step === 0 || step === 4;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    className: `Background ${language}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"NewInvitationText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, t(\"registerPage:newInvitationText\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"NewInvitationSubText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, t(\"registerPage:newInvitationSubText\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    className: `PhoneContanier ${language}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"PhoneNumberText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, t(\"registerPage:enterYourPhoneNumberText\")), Inputvalidtion && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"errorHnadling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, t(\"registerPage:wrongMobileNum\")), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `InputContanierDiv ${language}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"FlagImage\",\n    src: require(\"../../../images/flag.png\"),\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CountryLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"+2\"), /*#__PURE__*/React.createElement(Form.Input, {\n    required: true,\n    disabled: formDisabled,\n    value: phone,\n    name: \"phone\",\n    maxLength: \"11\",\n    placeholder: t(\"landingPage:mobilenumberInput\"),\n    onChange: onChangePhoneNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: formDisabled,\n    className: `NextButton ${language}`,\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, t(\"registerPage:nextButtonTitle\")), phoneError && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"errorHnadling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, phoneError === \"Mobile number already registered\" ? t(\"registerPage:phoneExistsError\") : t(\"registerPage:wrongPhoneBackend\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport { EnterPhoneNumberSection };","map":{"version":3,"sources":["/media/norhan/New Volume/work/React-projects/test-redux/src/containers/RegisterPage/Sections/EnterPhoneNumberSection.jsx"],"names":["React","useState","useEffect","Container","Form","useTranslation","useDispatch","useSelector","userActions","checkPhoneValidity","setRegisterStep","validatorActions","useCallback","EnterPhoneNumberSection","props","t","disptach","phone","setPhone","step","state","registerReducer","phoneError","Inputvalidtion","validation","errors","schema","required","properties","title","type","pattern","handleSubmit","e","length","location","token","search","split","pathname","toEnglishDigits","str","charCodeAt","replace","onChangePhoneNumber","englishNumber","target","value","validateInput","name","language","localStorage","getItem","formDisabled","require"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Container, Form } from \"semantic-ui-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { userActions } from \"../../../actions\";\r\nimport \"./styles.css\";\r\nimport {\r\n  checkPhoneValidity,\r\n  setRegisterStep,\r\n  validatorActions,\r\n} from \"../../../actions\";\r\nimport { useCallback } from \"react\";\r\n// InputContanierDiv.ar\r\n//OTPInputsForm\r\nconst EnterPhoneNumberSection = (props) => {\r\n  const { t } = useTranslation();\r\n  const disptach = useDispatch();\r\n\r\n  const [phone, setPhone] = useState(\"\");\r\n  var step = useSelector((state) => state.registerReducer.step);\r\n  const phoneError = useSelector((state) => state.registerReducer.phoneError);\r\n  const Inputvalidtion = useSelector((state) => state.validation.errors?.phone);\r\n\r\n  const schema = {\r\n    required: [\"phone\"],\r\n    properties: {\r\n      phone: {\r\n        title: \"phone\",\r\n        type: \"string\",\r\n        pattern: \"^01[0-2|5]{1}[0-9]{8}$\",\r\n      },\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (phoneError) {\r\n      return;\r\n    }\r\n    if (step === 4) {\r\n      setPhone(\"\");\r\n    }\r\n  }, [phoneError, step]);\r\n  const handleSubmit = useCallback(\r\n    (e) => {\r\n      if (!phone || (phone && phone.length < 11 && step < 3)) {\r\n      } else {\r\n      }\r\n\r\n      const location = props.location;\r\n\r\n      const token = location?.search?.split(\"=\")[1];\r\n      const type = location?.pathname?.split(\"/\")[1];\r\n\r\n      disptach(\r\n        checkPhoneValidity({\r\n          phone,\r\n          token,\r\n          type,\r\n        })\r\n      );\r\n    },\r\n    [phone]\r\n  );\r\n  function toEnglishDigits(str) {\r\n    var e = \"۰\".charCodeAt(0);\r\n    str = str.replace(/[۰-۹]/g, function (t) {\r\n      return t.charCodeAt(0) - e;\r\n    });\r\n\r\n    e = \"٠\".charCodeAt(0);\r\n    str = str.replace(/[٠-٩]/g, function (t) {\r\n      return t.charCodeAt(0) - e;\r\n    });\r\n    return str;\r\n  }\r\n  const onChangePhoneNumber = useCallback((e) => {\r\n    const englishNumber = toEnglishDigits(e.target.value);\r\n    disptach(\r\n      validatorActions.validateInput(schema, e.target.name, englishNumber)\r\n    );\r\n    setPhone(englishNumber);\r\n    disptach(setRegisterStep(1));\r\n  }, []);\r\n  const language = localStorage.getItem(\"i18nextLng\");\r\n  const formDisabled = step === 0 || step === 4;\r\n  return (\r\n    <>\r\n      <Container className={`Background ${language}`}>\r\n        <p className={\"NewInvitationText\"}>\r\n          {t(\"registerPage:newInvitationText\")}\r\n        </p>\r\n        <p className={\"NewInvitationSubText\"}>\r\n          {t(\"registerPage:newInvitationSubText\")}\r\n        </p>\r\n      </Container>\r\n\r\n      <div className={\"Border\"} />\r\n      <Container className={`PhoneContanier ${language}`}>\r\n        <p className={\"PhoneNumberText\"}>\r\n          {t(\"registerPage:enterYourPhoneNumberText\")}\r\n        </p>\r\n        {Inputvalidtion && (\r\n          <span className=\"errorHnadling\">\r\n            {t(\"registerPage:wrongMobileNum\")}\r\n          </span>\r\n        )}\r\n        <Form>\r\n          <div className={`InputContanierDiv ${language}`}>\r\n            <img\r\n              className={\"FlagImage\"}\r\n              src={require(\"../../../images/flag.png\")}\r\n              alt=\"\"\r\n            />\r\n            <div className={\"CountryLabel\"}>{\"+2\"}</div>\r\n            <Form.Input\r\n              required\r\n              disabled={formDisabled}\r\n              value={phone}\r\n              name=\"phone\"\r\n              maxLength=\"11\"\r\n              placeholder={t(\"landingPage:mobilenumberInput\")}\r\n              onChange={onChangePhoneNumber}\r\n            />\r\n          </div>\r\n        </Form>\r\n        <button\r\n          disabled={formDisabled}\r\n          className={`NextButton ${language}`}\r\n          onClick={handleSubmit}\r\n        >\r\n          {t(\"registerPage:nextButtonTitle\")}\r\n        </button>\r\n        {phoneError && (\r\n          <span className=\"errorHnadling\">\r\n            {phoneError === \"Mobile number already registered\"\r\n              ? t(\"registerPage:phoneExistsError\")\r\n              : t(\"registerPage:wrongPhoneBackend\")}\r\n          </span>\r\n        )}\r\n      </Container>\r\n      <div className={\"Border\"} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport { EnterPhoneNumberSection };\r\n"]},"metadata":{},"sourceType":"module"}