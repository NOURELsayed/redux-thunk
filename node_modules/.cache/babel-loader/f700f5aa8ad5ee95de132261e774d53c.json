{"ast":null,"code":"var _jsxFileName = \"/media/norhan/New Volume/work/React-projects/test-redux/src/containers/OrdersPage/OrderCard.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Grid, Card, Step, Icon, Button } from \"semantic-ui-react\";\nimport { getFormatedDate } from \"../../components/_shared/DateTimeFormat\";\nimport { OrderItemAsBuyer } from \"./OrderItemAsBuyer\";\nimport { OrderItemAsSeller } from \"./OrderItemAsSeller\";\nimport { orderConstants } from \"../../constants\";\nimport { getOrderStatus } from \"./shared\";\nimport { formulateReturnPeriodExpiryDate } from '../../helpers/utils';\n\nclass OrderCard extends Component {\n  render() {\n    const {\n      orderData,\n      viewAsSeller,\n      returnRequests\n    } = this.props;\n    let orderStatus = getOrderStatus(orderData);\n    const {\n      returnPeriodExpiresAt,\n      combinedDate\n    } = formulateReturnPeriodExpiryDate(orderData);\n    const canReview = orderStatus === orderConstants.ORDER_STATUS_ORDER_PICKED_UP || orderStatus === orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER;\n    const reviewSeller = orderData.reviews.filter(review => review.revieweeType === \"seller\");\n    const reviewBuyer = orderData.reviews.filter(review => review.revieweeType === \"buyer\");\n    return /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 15\n      }\n    }, !viewAsSeller && orderStatus === orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP ? /*#__PURE__*/React.createElement(Button, {\n      icon: true,\n      labelPosition: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/orders/SubmitPickupInfo/${orderData._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, orderData.buyerData.SP ? 'Edit Pickup Info' : 'Submit Pickup Info'), /*#__PURE__*/React.createElement(Icon, {\n      name: \"right arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    })) : ''), /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }, !viewAsSeller && orderStatus === 'ORDER_STATUS_PLACED_ORDER' ? /*#__PURE__*/React.createElement(Button, {\n      icon: true,\n      labelPosition: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/orders/EditOrderItems/${orderData._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"Edit Order Items\"), /*#__PURE__*/React.createElement(Icon, {\n      name: \"right arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    })) : null), /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }\n    }, \"Order placed on : \"), getFormatedDate(orderData.createdAt)), /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, viewAsSeller ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 23\n      }\n    }, \"Order Buyer : \"), \" \", /*#__PURE__*/React.createElement(Link, {\n      to: `/user/${orderData.buyerData.buyer._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 23\n      }\n    }, orderData.buyerData.buyer.username)) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 23\n      }\n    }, \"Order picker : \"), \" \", orderData.buyerData.authorizedPerson ? orderData.buyerData.authorizedPerson.name : \"Yourself\"))), /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, \"Order ID : \"), orderData._id), /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, orderData.soldPrice === orderData.totalPrice ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 39\n      }\n    }, \"Total cost : \"), \" \", orderData.soldPrice, \" LE\") : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"strike\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }, \"Total cost : \"), \" \", orderData.totalPrice, \" LE\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, \"Discounted Cost : \"), \" \", orderData.soldPrice, \" LE\"))), /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n      href: `/order/${orderData._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, \"Order details\"), \" \"))))), /*#__PURE__*/React.createElement(Card.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      style: {\n        padding: \"1em 1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Row, {\n      style: {\n        padding: \"0em 0em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Step.Group, {\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Step, {\n      disabled: orderStatus !== orderConstants.ORDER_STATUS_PLACED_ORDER,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"clipboard check\",\n      color: orderStatus === orderConstants.ORDER_STATUS_PLACED_ORDER ? \"green\" : undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Step.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Step.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 23\n      }\n    }, \"Order placed\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    }, \"Order placed successfuly\"))), orderStatus === orderConstants.ORDER_STATUS_CANCELLED && /*#__PURE__*/React.createElement(Step, {\n      disabled: orderStatus !== orderConstants.ORDER_STATUS_CANCELLED,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 75\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"exclamation triangle\",\n      color: orderStatus === orderConstants.ORDER_STATUS_CANCELLED ? \"yellow\" : undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Step.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Step.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    }, \"Order Cancelled\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    }, \"Order is cancelled by SP agent\"))), orderStatus === orderConstants.ORDER_STATUS_REJECTED_BY_SP && /*#__PURE__*/React.createElement(Step, {\n      disabled: orderStatus !== orderConstants.ORDER_STATUS_REJECTED_BY_SP,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 80\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"exclamation triangle\",\n      color: orderStatus === orderConstants.ORDER_STATUS_REJECTED_BY_SP ? \"red\" : undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Step.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Step.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 23\n      }\n    }, \"Order Rejected\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 23\n      }\n    }, \"Order rejected at the SP\"))), orderStatus !== orderConstants.ORDER_STATUS_REJECTED_BY_SP && orderStatus !== orderConstants.ORDER_STATUS_CANCELLED && /*#__PURE__*/React.createElement(Step, {\n      disabled: orderStatus !== orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP && orderStatus !== orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 136\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"warehouse\",\n      color: orderStatus === orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP ? \"orange\" : orderStatus === orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP ? \"green\" : undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Step.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Step.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 23\n      }\n    }, orderStatus === orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP ? \"Some Items in service point\" : \"Items in service point\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 23\n      }\n    }, orderStatus === orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP ? \"Waiting till order complete\" : \"Items ready for pickup\"))), orderStatus !== orderConstants.ORDER_STATUS_REJECTED_BY_SP && orderStatus !== orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER && orderStatus !== orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER && orderStatus !== orderConstants.ORDER_STATUS_CANCELLED && /*#__PURE__*/React.createElement(Step, {\n      disabled: orderStatus !== orderConstants.ORDER_STATUS_ORDER_PICKED_UP,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 76\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"thumbs up outline\",\n      color: orderStatus === orderConstants.ORDER_STATUS_ORDER_PICKED_UP ? \"green\" : undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Step.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Step.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 23\n      }\n    }, \"Items picked up\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 23\n      }\n    }, \"Order completed\"))), orderStatus === orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER && /*#__PURE__*/React.createElement(Step, {\n      disabled: orderStatus !== orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 89\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"exclamation triangle\",\n      color: orderStatus === orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER ? \"red\" : undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Step.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Step.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 23\n      }\n    }, \"Buyer Rejected Order\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 23\n      }\n    }, \"You rejected the order\"))), orderStatus === orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER && /*#__PURE__*/React.createElement(Step, {\n      disabled: orderStatus !== orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 90\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"thumbs up outline\",\n      color: orderStatus === orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER ? \"yellow\" : undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Step.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Step.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 23\n      }\n    }, \"Item(s) Picked Up\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 23\n      }\n    }, \"Order completed\"), /*#__PURE__*/React.createElement(Step.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 23\n      }\n    }, \"You rejected some items\"))))), viewAsSeller ? /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 18\n      }\n    }, reviewBuyer.length < 1 && /*#__PURE__*/React.createElement(Button, {\n      fluid: true,\n      inverted: true,\n      color: \"red\",\n      as: Link,\n      disabled: !canReview,\n      to: {\n        pathname: `/review/${orderData._id}`,\n        query: {\n          reviewee: orderData.buyerData.buyer,\n          revieweeType: \"buyer\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 44\n      }\n    }, \"Rate Buyer\")) : /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, reviewSeller.length < 1 && /*#__PURE__*/React.createElement(Button, {\n      fluid: true,\n      inverted: true,\n      color: \"red\",\n      as: Link,\n      disabled: !canReview,\n      to: {\n        pathname: `/review/${orderData._id}`,\n        query: {\n          reviewee: orderData.sellerData.seller,\n          revieweeType: \"seller\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 47\n      }\n    }, \"Rate Seller\")), /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }, orderData.items.map((itemData, i) => viewAsSeller ? /*#__PURE__*/React.createElement(OrderItemAsSeller, {\n      returnWindow: returnPeriodExpiresAt,\n      combinedDate: combinedDate,\n      viewAsSeller: viewAsSeller,\n      orderData: orderData,\n      itemData: itemData,\n      key: itemData._id,\n      orderStatus: orderStatus,\n      returnRequest: returnRequests && returnRequests.returnRequests && returnRequests.returnRequests.find(e => JSON.stringify(e.item._id) === JSON.stringify(itemData._id)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(OrderItemAsBuyer, {\n      returnWindow: returnPeriodExpiresAt,\n      combinedDate: combinedDate,\n      viewAsSeller: viewAsSeller,\n      orderData: orderData,\n      itemData: itemData,\n      key: itemData._id,\n      orderStatus: orderStatus,\n      returnRequest: returnRequests && returnRequests.returnRequests && returnRequests.returnRequests.find(e => JSON.stringify(e.item._id) === JSON.stringify(itemData._id)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }\n    })))))));\n  }\n\n}\n\nexport { OrderCard };","map":{"version":3,"sources":["/media/norhan/New Volume/work/React-projects/test-redux/src/containers/OrdersPage/OrderCard.jsx"],"names":["React","Component","Link","Grid","Card","Step","Icon","Button","getFormatedDate","OrderItemAsBuyer","OrderItemAsSeller","orderConstants","getOrderStatus","formulateReturnPeriodExpiryDate","OrderCard","render","orderData","viewAsSeller","returnRequests","props","orderStatus","returnPeriodExpiresAt","combinedDate","canReview","ORDER_STATUS_ORDER_PICKED_UP","ORDER_STATUS_REJECTED_SOME_BY_BUYER","reviewSeller","reviews","filter","review","revieweeType","reviewBuyer","ORDER_STATUS_ALL_ITEMS_AT_SP","_id","buyerData","SP","createdAt","buyer","username","authorizedPerson","name","soldPrice","totalPrice","padding","ORDER_STATUS_PLACED_ORDER","undefined","ORDER_STATUS_CANCELLED","ORDER_STATUS_REJECTED_BY_SP","ORDER_STATUS_SOME_ITEMS_AT_SP","ORDER_STATUS_REJECTED_ALL_BY_BUYER","length","pathname","query","reviewee","sellerData","seller","items","map","itemData","i","find","e","JSON","stringify","item"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,IAArB,EAA2BC,IAA3B,EAAiCC,MAAjC,QAA+C,mBAA/C;AACA,SAASC,eAAT,QAAgC,yCAAhC;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,iBAAT,QAAkC,qBAAlC;AACA,SAASC,cAAT,QAA+B,iBAA/B;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,SAASC,+BAAT,QAAgD,qBAAhD;;AAGA,MAAMC,SAAN,SAAwBb,SAAxB,CAAkC;AAEhCc,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,SAAF;AAAaC,MAAAA,YAAb;AAA2BC,MAAAA;AAA3B,QAA8C,KAAKC,KAAzD;AACA,QAAIC,WAAW,GAAGR,cAAc,CAACI,SAAD,CAAhC;AACA,UAAM;AAAEK,MAAAA,qBAAF;AAAyBC,MAAAA;AAAzB,QAA0CT,+BAA+B,CAACG,SAAD,CAA/E;AACA,UAAMO,SAAS,GACdH,WAAW,KAAKT,cAAc,CAACa,4BAA/B,IAA6DJ,WAAW,KAAKT,cAAc,CAACc,mCAD7F;AAEA,UAAMC,YAAY,GAAGV,SAAS,CAACW,OAAV,CAAkBC,MAAlB,CAClBC,MAAD,IAAYA,MAAM,CAACC,YAAP,KAAwB,QADjB,CAArB;AAGA,UAAMC,WAAW,GAAGf,SAAS,CAACW,OAAV,CAAkBC,MAAlB,CACjBC,MAAD,IAAYA,MAAM,CAACC,YAAP,KAAwB,OADlB,CAApB;AAGA,wBACE,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,KAAK,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,CAACb,YAAD,IAAiBG,WAAW,KAAKT,cAAc,CAACqB,4BAAjD,gBACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,MAAZ;AAAa,MAAA,aAAa,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,4BAA2BhB,SAAS,CAACiB,GAAI,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGjB,SAAS,CAACkB,SAAV,CAAoBC,EAApB,GAAyB,kBAAzB,GAA8C,oBADjD,CADF,eAIE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADD,GAOG,EARN,CADF,eAWE,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAClB,YAAD,IAAiBG,WAAW,KAAK,2BAAjC,gBACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,MAAZ;AAAa,MAAA,aAAa,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,0BAAyBJ,SAAS,CAACiB,GAAI,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAIE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADD,GAOI,IARP,CAXF,eAqBE,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,KAAK,EAAE,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEGzB,eAAe,CAACQ,SAAS,CAACoB,SAAX,CAFlB,CADF,eAKE,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,KAAK,EAAE,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGnB,YAAY,gBACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EACkC,GADlC,eAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,SAAQD,SAAS,CAACkB,SAAV,CAAoBG,KAApB,CAA0BJ,GAAI,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqDjB,SAAS,CAACkB,SAAV,CAAoBG,KAApB,CAA0BC,QAA/E,CAFF,CADW,gBAMX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EACmC,GADnC,EAEGtB,SAAS,CAACkB,SAAV,CAAoBK,gBAApB,GACGvB,SAAS,CAACkB,SAAV,CAAoBK,gBAApB,CAAqCC,IADxC,GAEG,UAJN,CAPJ,CALF,CArBF,eA0CE,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,KAAK,EAAE,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEGxB,SAAS,CAACiB,GAFb,CADF,eAKE,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,KAAK,EAAE,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEIjB,SAAS,CAACyB,SAAV,KAAwBzB,SAAS,CAAC0B,UAAlC,gBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAhB,OAAgD1B,SAAS,CAACyB,SAA1D,QADF,gBAGE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAR,OAAwCzB,SAAS,CAAC0B,UAAlD,QADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHF,OAGuC1B,SAAS,CAACyB,SAHjD,QALN,CALF,CA1CF,eA4DE,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,KAAK,EAAE,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE;AAAG,MAAA,IAAI,EAAG,UAASzB,SAAS,CAACiB,GAAI,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,EAIO,GAJP,CADF,CADF,CA5DF,CADF,CADF,eA0EE,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEU,QAAAA,OAAO,EAAE;AAAX,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,GAAN;AAAU,MAAA,KAAK,EAAE;AAAEA,QAAAA,OAAO,EAAE;AAAX,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,IAAI,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AACE,MAAA,QAAQ,EACNvB,WAAW,KAAKT,cAAc,CAACiC,yBAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAC,iBADP;AAEE,MAAA,KAAK,EACHxB,WAAW,KAAKT,cAAc,CAACiC,yBAA/B,GACI,OADJ,GAEIC,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAaE,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFF,CAbF,CADF,EAqBGzB,WAAW,KAAIT,cAAc,CAACmC,sBAA9B,iBAAuD,oBAAC,IAAD;AACtD,MAAA,QAAQ,EACN1B,WAAW,KAAKT,cAAc,CAACmC,sBAFqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKtD,oBAAC,IAAD;AACE,MAAA,IAAI,EAAC,sBADP;AAEE,MAAA,KAAK,EACH1B,WAAW,KAAKT,cAAc,CAACmC,sBAA/B,GACI,QADJ,GAEID,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALsD,eAatD,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAFF,CAbsD,CArB1D,EAyCGzB,WAAW,KAAIT,cAAc,CAACoC,2BAA9B,iBAA4D,oBAAC,IAAD;AAC3D,MAAA,QAAQ,EACN3B,WAAW,KAAKT,cAAc,CAACoC,2BAF0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAK3D,oBAAC,IAAD;AACE,MAAA,IAAI,EAAC,sBADP;AAEE,MAAA,KAAK,EACH3B,WAAW,KAAKT,cAAc,CAACoC,2BAA/B,GACI,KADJ,GAEIF,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAL2D,eAa3D,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFF,CAb2D,CAzC/D,EA6DGzB,WAAW,KAAIT,cAAc,CAACoC,2BAA9B,IAA6D3B,WAAW,KAAIT,cAAc,CAACmC,sBAA3F,iBAAoH,oBAAC,IAAD;AACnH,MAAA,QAAQ,EACN1B,WAAW,KACTT,cAAc,CAACqC,6BADjB,IAEA5B,WAAW,KACTT,cAAc,CAACqB,4BALgG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQnH,oBAAC,IAAD;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,KAAK,EACHZ,WAAW,KACXT,cAAc,CAACqC,6BADf,GAEI,QAFJ,GAGI5B,WAAW,KACXT,cAAc,CAACqB,4BADf,GAEA,OAFA,GAGAa,SATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARmH,eAoBnH,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGzB,WAAW,KACZT,cAAc,CAACqC,6BADd,GAEG,6BAFH,GAGG,wBAJN,CADF,eAOE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG5B,WAAW,KACZT,cAAc,CAACqC,6BADd,GAEG,6BAFH,GAGG,wBAJN,CAPF,CApBmH,CA7DvH,EAiGG5B,WAAW,KAAKT,cAAc,CAACoC,2BAA/B,IACA3B,WAAW,KAAKT,cAAc,CAACsC,kCAD/B,IAEA7B,WAAW,KAAKT,cAAc,CAACc,mCAF/B,IAGAL,WAAW,KAAIT,cAAc,CAACmC,sBAH9B,iBAGwD,oBAAC,IAAD;AACvD,MAAA,QAAQ,EACN1B,WAAW,KACXT,cAAc,CAACa,4BAHsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMvD,oBAAC,IAAD;AACE,MAAA,IAAI,EAAC,mBADP;AAEE,MAAA,KAAK,EACHJ,WAAW,KACXT,cAAc,CAACa,4BADf,GAEI,OAFJ,GAGIqB,SANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANuD,eAevD,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFF,CAfuD,CApG3D,EAwHGzB,WAAW,KAAKT,cAAc,CAACsC,kCAA/B,iBAAqE,oBAAC,IAAD;AACpE,MAAA,QAAQ,EACN7B,WAAW,KACXT,cAAc,CAACsC,kCAHmD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMpE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAC,sBADP;AAEE,MAAA,KAAK,EACH7B,WAAW,KACXT,cAAc,CAACsC,kCADf,GAEI,KAFJ,GAGIJ,SANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANoE,eAepE,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,CAfoE,CAxHxE,EA4IGzB,WAAW,KAAKT,cAAc,CAACc,mCAA/B,iBAAsE,oBAAC,IAAD;AACrE,MAAA,QAAQ,EACNL,WAAW,KACXT,cAAc,CAACc,mCAHoD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMrE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAC,mBADP;AAEE,MAAA,KAAK,EACHL,WAAW,KACXT,cAAc,CAACc,mCADf,GAEI,QAFJ,GAGIoB,SANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANqE,eAerE,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFF,eAGE,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAHF,CAfqE,CA5IzE,CADF,CADF,EAqKK5B,YAAY,gBACZ,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEc,WAAW,CAACmB,MAAZ,GAAmB,CAAnB,iBAAwB,oBAAC,MAAD;AAAQ,MAAA,KAAK,MAAb;AAAc,MAAA,QAAQ,MAAtB;AAAuB,MAAA,KAAK,EAAC,KAA7B;AACxB,MAAA,EAAE,EAAEhD,IADoB;AAExB,MAAA,QAAQ,EAAE,CAACqB,SAFa;AAGzB,MAAA,EAAE,EAAE;AACA4B,QAAAA,QAAQ,EAAG,WAAUnC,SAAS,CAACiB,GAAI,EADnC;AAEAmB,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAErC,SAAS,CAACkB,SAAV,CAAoBG,KADzB;AAELP,UAAAA,YAAY,EAAE;AAFT;AAFP,OAHqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAD1B,CADY,gBAeb,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKJ,YAAY,CAACwB,MAAb,GAAoB,CAApB,iBAAyB,oBAAC,MAAD;AAAS,MAAA,KAAK,MAAd;AAAe,MAAA,QAAQ,MAAvB;AAAwB,MAAA,KAAK,EAAC,KAA9B;AAC1B,MAAA,EAAE,EAAEhD,IADsB;AAE1B,MAAA,QAAQ,EAAE,CAACqB,SAFe;AAG1B,MAAA,EAAE,EAAE;AACF4B,QAAAA,QAAQ,EAAG,WAAUnC,SAAS,CAACiB,GAAI,EADjC;AAEFmB,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAErC,SAAS,CAACsC,UAAV,CAAqBC,MAD1B;AAELzB,UAAAA,YAAY,EAAE;AAFT;AAFL,OAHsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAD9B,CApLJ,eAkME,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGd,SAAS,CAACwC,KAAV,CAAgBC,GAAhB,CAAoB,CAACC,QAAD,EAAUC,CAAV,KACnB1C,YAAY,gBACV,oBAAC,iBAAD;AACE,MAAA,YAAY,EAAEI,qBADhB;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,YAAY,EAAEL,YAHhB;AAIE,MAAA,SAAS,EAAED,SAJb;AAKE,MAAA,QAAQ,EAAE0C,QALZ;AAME,MAAA,GAAG,EAAEA,QAAQ,CAACzB,GANhB;AAOE,MAAA,WAAW,EAAEb,WAPf;AAQE,MAAA,aAAa,EAAEF,cAAc,IAAKA,cAAc,CAACA,cAAlC,IAAkDA,cAAc,CAACA,cAAf,CAA8B0C,IAA9B,CAAmCC,CAAC,IAAIC,IAAI,CAACC,SAAL,CAAeF,CAAC,CAACG,IAAF,CAAO/B,GAAtB,MAA+B6B,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACzB,GAAxB,CAAvE,CARnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADU,gBAYV,oBAAC,gBAAD;AACE,MAAA,YAAY,EAAEZ,qBADhB;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,YAAY,EAAEL,YAHhB;AAIE,MAAA,SAAS,EAAED,SAJb;AAKE,MAAA,QAAQ,EAAE0C,QALZ;AAME,MAAA,GAAG,EAAEA,QAAQ,CAACzB,GANhB;AAOE,MAAA,WAAW,EAAEb,WAPf;AAQE,MAAA,aAAa,EAAEF,cAAc,IAAIA,cAAc,CAACA,cAAjC,IAAmDA,cAAc,CAACA,cAAf,CAA8B0C,IAA9B,CAAmCC,CAAC,IAAIC,IAAI,CAACC,SAAL,CAAeF,CAAC,CAACG,IAAF,CAAO/B,GAAtB,MAA+B6B,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACzB,GAAxB,CAAvE,CARpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbH,CADH,CAlMF,CADF,CA1EF,CADF,CADF;AA+SD;;AA7T+B;;AAiUlC,SAAQnB,SAAR","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Grid, Card, Step, Icon, Button } from \"semantic-ui-react\";\r\nimport { getFormatedDate } from \"../../components/_shared/DateTimeFormat\";\r\nimport { OrderItemAsBuyer } from \"./OrderItemAsBuyer\";\r\nimport { OrderItemAsSeller } from \"./OrderItemAsSeller\";\r\nimport { orderConstants } from \"../../constants\";\r\nimport { getOrderStatus } from \"./shared\";\r\nimport { formulateReturnPeriodExpiryDate } from '../../helpers/utils';\r\n\r\n\r\nclass OrderCard extends Component {\r\n  \r\n  render() {\r\n    const { orderData, viewAsSeller, returnRequests } = this.props;\r\n    let orderStatus = getOrderStatus(orderData);\r\n    const { returnPeriodExpiresAt, combinedDate } = formulateReturnPeriodExpiryDate(orderData);\r\n    const canReview =\r\n    (orderStatus === orderConstants.ORDER_STATUS_ORDER_PICKED_UP||orderStatus === orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER);\r\n    const reviewSeller = orderData.reviews.filter(\r\n      (review) => review.revieweeType === \"seller\"\r\n    );\r\n    const reviewBuyer = orderData.reviews.filter(\r\n      (review) => review.revieweeType === \"buyer\"\r\n    );\r\n    return (\r\n      <Grid.Row>\r\n        <Card fluid>\r\n          <Card.Content>\r\n            <Grid>\r\n              <Grid.Row>\r\n                {(!viewAsSeller && orderStatus === orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP) ? (\r\n                  <Button icon labelPosition='right'>\r\n                    <Link to={`/orders/SubmitPickupInfo/${orderData._id}`}>\r\n                      {orderData.buyerData.SP ? 'Edit Pickup Info' : 'Submit Pickup Info'}\r\n                    </Link>\r\n                    <Icon name='right arrow' />\r\n                  </Button>\r\n                ) : ''}\r\n              </Grid.Row>\r\n              <Grid.Row>\r\n                {!viewAsSeller && orderStatus === 'ORDER_STATUS_PLACED_ORDER' ? (\r\n                  <Button icon labelPosition='right'>\r\n                    <Link to={`/orders/EditOrderItems/${orderData._id}`}>\r\n                      Edit Order Items\r\n                    </Link>\r\n                    <Icon name='right arrow' />\r\n                  </Button>\r\n                ) : (null)}\r\n              </Grid.Row>\r\n              <Grid.Row>\r\n                <Grid.Column width={8}>\r\n                  <strong>Order placed on : </strong>\r\n                  {getFormatedDate(orderData.createdAt)}\r\n                </Grid.Column>\r\n                <Grid.Column width={8}>\r\n                  {viewAsSeller ? (\r\n                    <div>\r\n                      <strong>Order Buyer : </strong>{\" \"}\r\n                      <Link to={`/user/${orderData.buyerData.buyer._id}`}>{orderData.buyerData.buyer.username}</Link>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <strong>Order picker : </strong>{\" \"}\r\n                      {orderData.buyerData.authorizedPerson\r\n                        ? orderData.buyerData.authorizedPerson.name\r\n                        : \"Yourself\"}\r\n                    </div>\r\n                  )}\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n              <Grid.Row>\r\n                <Grid.Column width={8}>\r\n                  <strong>Order ID : </strong>\r\n                  {orderData._id}\r\n                </Grid.Column>\r\n                <Grid.Column width={8}>\r\n                  {\r\n                    orderData.soldPrice === orderData.totalPrice ?\r\n                      <React.Fragment><strong>Total cost : </strong> {orderData.soldPrice} LE</React.Fragment>\r\n                    :\r\n                      <React.Fragment>\r\n                        <strike><strong>Total cost : </strong> {orderData.totalPrice} LE</strike>\r\n                        <br />\r\n                        <strong>Discounted Cost : </strong> {orderData.soldPrice} LE\r\n                      </React.Fragment>\r\n                  }\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n              <Grid.Row>\r\n                <Grid.Column width={8}>\r\n                  <strong>\r\n                    {\" \"}\r\n                    <a href={`/order/${orderData._id}`}>\r\n                      Order details\r\n                    </a>{\" \"}\r\n                  </strong>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid>\r\n          </Card.Content>\r\n          <Card.Content>\r\n            <Grid style={{ padding: \"1em 1em\" }}>\r\n              <Grid.Row style={{ padding: \"0em 0em\" }}>\r\n                <Step.Group size='small'>\r\n                  <Step\r\n                    disabled={\r\n                      orderStatus !== orderConstants.ORDER_STATUS_PLACED_ORDER\r\n                    }\r\n                  >\r\n                    <Icon\r\n                      name=\"clipboard check\"\r\n                      color={\r\n                        orderStatus === orderConstants.ORDER_STATUS_PLACED_ORDER\r\n                          ? \"green\"\r\n                          : undefined\r\n                      }\r\n                    />\r\n                    <Step.Content>\r\n                      <Step.Title>Order placed</Step.Title>\r\n                      <Step.Description>\r\n                        Order placed successfuly\r\n                      </Step.Description>\r\n                    </Step.Content>\r\n                  </Step>\r\n                  {orderStatus=== orderConstants.ORDER_STATUS_CANCELLED &&<Step\r\n                    disabled={\r\n                      orderStatus !== orderConstants.ORDER_STATUS_CANCELLED\r\n                    }\r\n                  >\r\n                    <Icon\r\n                      name=\"exclamation triangle\"\r\n                      color={\r\n                        orderStatus === orderConstants.ORDER_STATUS_CANCELLED\r\n                          ? \"yellow\"\r\n                          : undefined\r\n                      }\r\n                    />\r\n                    <Step.Content>\r\n                      <Step.Title>Order Cancelled</Step.Title>\r\n                      <Step.Description>\r\n                        Order is cancelled by SP agent\r\n                      </Step.Description>\r\n                    </Step.Content>\r\n                  </Step>}\r\n                  {orderStatus=== orderConstants.ORDER_STATUS_REJECTED_BY_SP &&<Step\r\n                    disabled={\r\n                      orderStatus !== orderConstants.ORDER_STATUS_REJECTED_BY_SP\r\n                    }\r\n                  >\r\n                    <Icon\r\n                      name=\"exclamation triangle\"\r\n                      color={\r\n                        orderStatus === orderConstants.ORDER_STATUS_REJECTED_BY_SP\r\n                          ? \"red\"\r\n                          : undefined\r\n                      }\r\n                    />\r\n                    <Step.Content>\r\n                      <Step.Title>Order Rejected</Step.Title>\r\n                      <Step.Description>\r\n                        Order rejected at the SP\r\n                      </Step.Description>\r\n                    </Step.Content>\r\n                  </Step>}\r\n                  {orderStatus!== orderConstants.ORDER_STATUS_REJECTED_BY_SP && orderStatus!== orderConstants.ORDER_STATUS_CANCELLED &&<Step\r\n                    disabled={\r\n                      orderStatus !==\r\n                        orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP &&\r\n                      orderStatus !==\r\n                        orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP\r\n                    }\r\n                  >\r\n                    <Icon\r\n                      name=\"warehouse\"\r\n                      color={\r\n                        orderStatus ===\r\n                        orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP\r\n                          ? \"orange\"\r\n                          : orderStatus ===\r\n                            orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP\r\n                          ? \"green\"\r\n                          : undefined\r\n                      }\r\n                    />\r\n                    <Step.Content>\r\n                      <Step.Title>\r\n                        {orderStatus ===\r\n                        orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP\r\n                          ? \"Some Items in service point\"\r\n                          : \"Items in service point\"}\r\n                      </Step.Title>\r\n                      <Step.Description>\r\n                        {orderStatus ===\r\n                        orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP\r\n                          ? \"Waiting till order complete\"\r\n                          : \"Items ready for pickup\"}\r\n                      </Step.Description>\r\n                    </Step.Content>\r\n                  </Step>}\r\n\r\n                  {orderStatus !== orderConstants.ORDER_STATUS_REJECTED_BY_SP &&\r\n                   orderStatus !== orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER &&\r\n                   orderStatus !== orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER &&\r\n                   orderStatus!== orderConstants.ORDER_STATUS_CANCELLED && <Step\r\n                    disabled={\r\n                      orderStatus !==\r\n                      orderConstants.ORDER_STATUS_ORDER_PICKED_UP\r\n                    }\r\n                  >\r\n                    <Icon\r\n                      name=\"thumbs up outline\"\r\n                      color={\r\n                        orderStatus ===\r\n                        orderConstants.ORDER_STATUS_ORDER_PICKED_UP\r\n                          ? \"green\"\r\n                          : undefined\r\n                      }\r\n                    />\r\n                    <Step.Content>\r\n                      <Step.Title>Items picked up</Step.Title>\r\n                      <Step.Description>Order completed</Step.Description>\r\n                    </Step.Content>\r\n                  </Step>}\r\n                  {orderStatus === orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER && <Step\r\n                    disabled={\r\n                      orderStatus !==\r\n                      orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER\r\n                    }\r\n                  >\r\n                    <Icon\r\n                      name=\"exclamation triangle\"\r\n                      color={\r\n                        orderStatus ===\r\n                        orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER\r\n                          ? \"red\"\r\n                          : undefined\r\n                      }\r\n                    />\r\n                    <Step.Content>\r\n                      <Step.Title>Buyer Rejected Order</Step.Title>\r\n                      <Step.Description>You rejected the order</Step.Description>\r\n                    </Step.Content>\r\n                  </Step>}\r\n                  {orderStatus === orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER && <Step\r\n                    disabled={\r\n                      orderStatus !==\r\n                      orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER\r\n                    }\r\n                  >\r\n                    <Icon\r\n                      name=\"thumbs up outline\"\r\n                      color={\r\n                        orderStatus ===\r\n                        orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER\r\n                          ? \"yellow\"\r\n                          : undefined\r\n                      }\r\n                    />\r\n                    <Step.Content>\r\n                      <Step.Title>Item(s) Picked Up</Step.Title>\r\n                      <Step.Description>Order completed</Step.Description>\r\n                      <Step.Description>You rejected some items</Step.Description>\r\n                    </Step.Content>\r\n                  </Step>}\r\n                </Step.Group>\r\n                </Grid.Row> \r\n                {viewAsSeller?\r\n                 <Grid.Row>\r\n                  {reviewBuyer.length<1 && <Button fluid inverted color='red'  \r\n                   as={Link}\r\n                   disabled={!canReview}\r\n                  to={{\r\n                      pathname: `/review/${orderData._id}`,\r\n                      query: {\r\n                        reviewee: orderData.buyerData.buyer,\r\n                        revieweeType: \"buyer\",\r\n                      },\r\n                    }}>\r\n                    Rate Buyer\r\n                  </Button>}\r\n                  </Grid.Row> :\r\n                <Grid.Row>\r\n                    {reviewSeller.length<1 && <Button  fluid inverted color='red'\r\n                    as={Link}\r\n                    disabled={!canReview}\r\n                    to={{\r\n                      pathname: `/review/${orderData._id}`,\r\n                      query: {\r\n                        reviewee: orderData.sellerData.seller,\r\n                        revieweeType: \"seller\",\r\n                      },\r\n                    }}>\r\n                      Rate Seller\r\n                    </Button>}\r\n                </Grid.Row>}\r\n              <Grid.Row>\r\n                {orderData.items.map((itemData,i) =>\r\n                  viewAsSeller ? (\r\n                    <OrderItemAsSeller\r\n                      returnWindow={returnPeriodExpiresAt}\r\n                      combinedDate={combinedDate}\r\n                      viewAsSeller={viewAsSeller}\r\n                      orderData={orderData}\r\n                      itemData={itemData}\r\n                      key={itemData._id}\r\n                      orderStatus={orderStatus}\r\n                      returnRequest={returnRequests &&  returnRequests.returnRequests&&returnRequests.returnRequests.find(e => JSON.stringify(e.item._id) === JSON.stringify(itemData._id))}\r\n                    />\r\n                  ) : (\r\n                    <OrderItemAsBuyer\r\n                      returnWindow={returnPeriodExpiresAt}\r\n                      combinedDate={combinedDate}\r\n                      viewAsSeller={viewAsSeller}\r\n                      orderData={orderData}\r\n                      itemData={itemData}\r\n                      key={itemData._id}\r\n                      orderStatus={orderStatus}\r\n                      returnRequest={returnRequests && returnRequests.returnRequests&&  returnRequests.returnRequests.find(e => JSON.stringify(e.item._id) === JSON.stringify(itemData._id))}\r\n                    />\r\n                  )\r\n                )}\r\n              </Grid.Row>\r\n            </Grid>\r\n          </Card.Content>\r\n        </Card>\r\n      </Grid.Row>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport {OrderCard};\r\n\r\n"]},"metadata":{},"sourceType":"module"}