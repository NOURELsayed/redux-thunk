{"ast":null,"code":"import { orderConstants } from \"../../constants\";\nimport { isEmpty } from 'lodash';\nexport { getOrderStatus };\n\nfunction getOrderStatus(orderData) {\n  let orderStatus = orderConstants.ORDER_STATUS_PLACED_ORDER;\n\n  if (orderData.status === 'Cancelled') {\n    orderStatus = orderConstants.ORDER_STATUS_CANCELLED;\n  } else if (orderData.items && orderData.items.length > 0) {\n    if (orderData.items[0].status === orderConstants.ITEM_STATUS_SOLD) {\n      orderStatus = orderConstants.ORDER_STATUS_ORDER_PICKED_UP;\n    } else if (!isEmpty(orderData.platformInspection) && !orderData.platformInspection.isAccepted) {\n      orderStatus = orderConstants.ORDER_STATUS_REJECTED_BY_SP;\n    } else {\n      let numberOfItemsInSP = 0;\n      let numberOfRejectedItems = 0;\n\n      for (let i = 0; i < orderData.items.length; i++) {\n        if (orderData.items[i].status === orderConstants.ITEM_STATUS_WAITING_PICK_UP) {\n          numberOfItemsInSP++;\n        } else if (orderData.items[i].status === orderConstants.ITEM_STATUS_REJECTED_BY_BUYER) {\n          numberOfRejectedItems++;\n        }\n      }\n\n      if (numberOfItemsInSP > 0 && numberOfItemsInSP < orderData.items.length) {\n        orderStatus = orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP;\n      } else if (numberOfItemsInSP === orderData.items.length) {\n        orderStatus = orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP;\n      }\n\n      if (numberOfRejectedItems === orderData.items.length) {\n        orderStatus = orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER;\n      } else if (numberOfRejectedItems > 0 && numberOfRejectedItems < orderData.items.length) {\n        orderStatus = orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER;\n      }\n    }\n  }\n\n  return orderStatus;\n}","map":{"version":3,"sources":["/media/norhan/New Volume/work/React-projects/test-redux/src/containers/OrdersPage/shared.js"],"names":["orderConstants","isEmpty","getOrderStatus","orderData","orderStatus","ORDER_STATUS_PLACED_ORDER","status","ORDER_STATUS_CANCELLED","items","length","ITEM_STATUS_SOLD","ORDER_STATUS_ORDER_PICKED_UP","platformInspection","isAccepted","ORDER_STATUS_REJECTED_BY_SP","numberOfItemsInSP","numberOfRejectedItems","i","ITEM_STATUS_WAITING_PICK_UP","ITEM_STATUS_REJECTED_BY_BUYER","ORDER_STATUS_SOME_ITEMS_AT_SP","ORDER_STATUS_ALL_ITEMS_AT_SP","ORDER_STATUS_REJECTED_ALL_BY_BUYER","ORDER_STATUS_REJECTED_SOME_BY_BUYER"],"mappings":"AAAA,SAASA,cAAT,QAA+B,iBAA/B;AACA,SAAQC,OAAR,QAAsB,QAAtB;AACA,SAASC,cAAT;;AAEA,SAASA,cAAT,CAAwBC,SAAxB,EAAmC;AAC/B,MAAIC,WAAW,GAAGJ,cAAc,CAACK,yBAAjC;;AACA,MAAGF,SAAS,CAACG,MAAV,KAAmB,WAAtB,EAAkC;AAC/BF,IAAAA,WAAW,GAAGJ,cAAc,CAACO,sBAA7B;AACF,GAFD,MAGK,IAAIJ,SAAS,CAACK,KAAV,IAAmBL,SAAS,CAACK,KAAV,CAAgBC,MAAhB,GAAyB,CAAhD,EAAmD;AACpD,QAAIN,SAAS,CAACK,KAAV,CAAgB,CAAhB,EAAmBF,MAAnB,KAA8BN,cAAc,CAACU,gBAAjD,EAAmE;AAC/DN,MAAAA,WAAW,GAAGJ,cAAc,CAACW,4BAA7B;AACH,KAFD,MAEO,IAAG,CAACV,OAAO,CAACE,SAAS,CAACS,kBAAX,CAAR,IAA0C,CAACT,SAAS,CAACS,kBAAV,CAA6BC,UAA3E,EAAuF;AACtFT,MAAAA,WAAW,GAACJ,cAAc,CAACc,2BAA3B;AACP,KAFM,MAEA;AACH,UAAIC,iBAAiB,GAAG,CAAxB;AACA,UAAIC,qBAAqB,GAAC,CAA1B;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,SAAS,CAACK,KAAV,CAAgBC,MAApC,EAA4CQ,CAAC,EAA7C,EAAiD;AAC7C,YAAId,SAAS,CAACK,KAAV,CAAgBS,CAAhB,EAAmBX,MAAnB,KAA8BN,cAAc,CAACkB,2BAAjD,EAA8E;AAC1EH,UAAAA,iBAAiB;AACpB,SAFD,MAEM,IAAGZ,SAAS,CAACK,KAAV,CAAgBS,CAAhB,EAAmBX,MAAnB,KAA8BN,cAAc,CAACmB,6BAAhD,EAA8E;AAChFH,UAAAA,qBAAqB;AACxB;AACJ;;AACD,UAAID,iBAAiB,GAAG,CAApB,IAAyBA,iBAAiB,GAAGZ,SAAS,CAACK,KAAV,CAAgBC,MAAjE,EAAyE;AACrEL,QAAAA,WAAW,GAAGJ,cAAc,CAACoB,6BAA7B;AACH,OAFD,MAEO,IAAIL,iBAAiB,KAAKZ,SAAS,CAACK,KAAV,CAAgBC,MAA1C,EAAkD;AACrDL,QAAAA,WAAW,GAAGJ,cAAc,CAACqB,4BAA7B;AACH;;AACD,UAAGL,qBAAqB,KAAKb,SAAS,CAACK,KAAV,CAAgBC,MAA7C,EAAoD;AAChDL,QAAAA,WAAW,GAAGJ,cAAc,CAACsB,kCAA7B;AACH,OAFD,MAEO,IAAIN,qBAAqB,GAAG,CAAxB,IAA6BA,qBAAqB,GAAGb,SAAS,CAACK,KAAV,CAAgBC,MAAzE,EAAiF;AACpFL,QAAAA,WAAW,GAAGJ,cAAc,CAACuB,mCAA7B;AACH;AACJ;AACJ;;AACD,SAAOnB,WAAP;AACH","sourcesContent":["import { orderConstants } from \"../../constants\";\r\nimport {isEmpty} from 'lodash'\r\nexport { getOrderStatus };\r\n\r\nfunction getOrderStatus(orderData) {\r\n    let orderStatus = orderConstants.ORDER_STATUS_PLACED_ORDER;\r\n    if(orderData.status==='Cancelled'){\r\n       orderStatus = orderConstants.ORDER_STATUS_CANCELLED;\r\n    }\r\n    else if (orderData.items && orderData.items.length > 0) {\r\n        if (orderData.items[0].status === orderConstants.ITEM_STATUS_SOLD) {\r\n            orderStatus = orderConstants.ORDER_STATUS_ORDER_PICKED_UP;\r\n        } else if(!isEmpty(orderData.platformInspection) && !orderData.platformInspection.isAccepted) {\r\n                orderStatus=orderConstants.ORDER_STATUS_REJECTED_BY_SP;\r\n        } else {\r\n            let numberOfItemsInSP = 0;\r\n            let numberOfRejectedItems=0;\r\n            for (let i = 0; i < orderData.items.length; i++) {\r\n                if (orderData.items[i].status === orderConstants.ITEM_STATUS_WAITING_PICK_UP) {\r\n                    numberOfItemsInSP++;\r\n                }else if(orderData.items[i].status === orderConstants.ITEM_STATUS_REJECTED_BY_BUYER){\r\n                    numberOfRejectedItems++;\r\n                }\r\n            }\r\n            if (numberOfItemsInSP > 0 && numberOfItemsInSP < orderData.items.length) {\r\n                orderStatus = orderConstants.ORDER_STATUS_SOME_ITEMS_AT_SP;\r\n            } else if (numberOfItemsInSP === orderData.items.length) {\r\n                orderStatus = orderConstants.ORDER_STATUS_ALL_ITEMS_AT_SP;\r\n            }\r\n            if(numberOfRejectedItems === orderData.items.length){\r\n                orderStatus = orderConstants.ORDER_STATUS_REJECTED_ALL_BY_BUYER;\r\n            } else if (numberOfRejectedItems > 0 && numberOfRejectedItems < orderData.items.length) {\r\n                orderStatus = orderConstants.ORDER_STATUS_REJECTED_SOME_BY_BUYER;\r\n            }\r\n        }\r\n    }\r\n    return orderStatus;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}