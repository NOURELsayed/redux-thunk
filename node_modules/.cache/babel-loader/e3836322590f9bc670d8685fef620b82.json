{"ast":null,"code":"import { discountService } from \"../services\";\nimport { alertActions } from \"./\";\nimport { discountConstants } from '../constants';\nexport const discountActions = {\n  createDiscount,\n  removeDiscount\n};\n\nfunction createDiscount(discountObj, postId) {\n  return async dispatch => {\n    await dispatch(request());\n\n    try {\n      const {\n        data\n      } = await discountService.createDiscount(discountObj, postId);\n      dispatch(success(data));\n    } catch (ex) {\n      dispatch(failure(ex));\n      dispatch(alertActions.error({\n        header: 'Could not apply discount !',\n        content: ex.message\n      }));\n    }\n  };\n\n  function request() {\n    return {\n      type: discountConstants.CREATE_DISCOUNT_REQUEST\n    };\n  }\n\n  function success(postData) {\n    return {\n      type: discountConstants.CREATE_DISCOUNT_SUCCESS,\n      postData\n    };\n  }\n\n  function failure(errors) {\n    return {\n      type: discountConstants.CREATE_DISCOUNT_FAILURE,\n      errors\n    };\n  }\n}\n\nfunction removeDiscount(postId) {\n  return async dispatch => {\n    await dispatch(request());\n\n    try {\n      const {\n        data\n      } = await discountService.removeDiscount(postId);\n      dispatch(success(data));\n    } catch (ex) {\n      dispatch(failure(ex));\n      dispatch(alertActions.error({\n        header: 'Could not remove discount !',\n        content: ex.message\n      }));\n    }\n  };\n\n  function request() {\n    return {\n      type: discountConstants.REMOVE_DISCOUNT_REQUEST\n    };\n  }\n\n  function success(postData) {\n    return {\n      type: discountConstants.REMOVE_DISCOUNT_SUCCESS,\n      postData\n    };\n  }\n\n  function failure(errors) {\n    return {\n      type: discountConstants.REMOVE_DISCOUNT_FAILURE,\n      errors\n    };\n  }\n}","map":{"version":3,"sources":["/media/norhan/New Volume/work/React-projects/test-redux/src/actions/discount.actions.js"],"names":["discountService","alertActions","discountConstants","discountActions","createDiscount","removeDiscount","discountObj","postId","dispatch","request","data","success","ex","failure","error","header","content","message","type","CREATE_DISCOUNT_REQUEST","postData","CREATE_DISCOUNT_SUCCESS","errors","CREATE_DISCOUNT_FAILURE","REMOVE_DISCOUNT_REQUEST","REMOVE_DISCOUNT_SUCCESS","REMOVE_DISCOUNT_FAILURE"],"mappings":"AAAA,SAASA,eAAT,QAAgC,aAAhC;AACA,SAASC,YAAT,QAA6B,IAA7B;AACA,SAAQC,iBAAR,QAAgC,cAAhC;AAGA,OAAO,MAAMC,eAAe,GAAG;AAC3BC,EAAAA,cAD2B;AAE3BC,EAAAA;AAF2B,CAAxB;;AAKP,SAASD,cAAT,CAAwBE,WAAxB,EAAoCC,MAApC,EAA4C;AACxC,SAAO,MAAOC,QAAP,IAAoB;AACzB,UAAMA,QAAQ,CAACC,OAAO,EAAR,CAAd;;AACA,QAAI;AACF,YAAM;AAACC,QAAAA;AAAD,UAAQ,MAAMV,eAAe,CAACI,cAAhB,CAA+BE,WAA/B,EAA2CC,MAA3C,CAApB;AACAC,MAAAA,QAAQ,CAACG,OAAO,CAACD,IAAD,CAAR,CAAR;AACD,KAHD,CAGE,OAAOE,EAAP,EAAW;AACXJ,MAAAA,QAAQ,CAACK,OAAO,CAACD,EAAD,CAAR,CAAR;AACAJ,MAAAA,QAAQ,CACJP,YAAY,CAACa,KAAb,CAAmB;AACfC,QAAAA,MAAM,EAAE,4BADO;AAEfC,QAAAA,OAAO,EAAEJ,EAAE,CAACK;AAFG,OAAnB,CADI,CAAR;AAMD;AACF,GAdD;;AAgBA,WAASR,OAAT,GAAmB;AACjB,WAAO;AAACS,MAAAA,IAAI,EAAEhB,iBAAiB,CAACiB;AAAzB,KAAP;AACD;;AAED,WAASR,OAAT,CAAiBS,QAAjB,EAA2B;AACzB,WAAO;AAACF,MAAAA,IAAI,EAAEhB,iBAAiB,CAACmB,uBAAzB;AAAkDD,MAAAA;AAAlD,KAAP;AACD;;AAED,WAASP,OAAT,CAAiBS,MAAjB,EAAyB;AACvB,WAAO;AAACJ,MAAAA,IAAI,EAAEhB,iBAAiB,CAACqB,uBAAzB;AAAkDD,MAAAA;AAAlD,KAAP;AACD;AAEF;;AAED,SAASjB,cAAT,CAAwBE,MAAxB,EAAgC;AAC9B,SAAO,MAAOC,QAAP,IAAoB;AACzB,UAAMA,QAAQ,CAACC,OAAO,EAAR,CAAd;;AACA,QAAI;AACF,YAAM;AAACC,QAAAA;AAAD,UAAQ,MAAMV,eAAe,CAACK,cAAhB,CAA+BE,MAA/B,CAApB;AACAC,MAAAA,QAAQ,CAACG,OAAO,CAACD,IAAD,CAAR,CAAR;AACD,KAHD,CAGE,OAAOE,EAAP,EAAW;AACXJ,MAAAA,QAAQ,CAACK,OAAO,CAACD,EAAD,CAAR,CAAR;AACAJ,MAAAA,QAAQ,CACJP,YAAY,CAACa,KAAb,CAAmB;AACfC,QAAAA,MAAM,EAAE,6BADO;AAEfC,QAAAA,OAAO,EAAEJ,EAAE,CAACK;AAFG,OAAnB,CADI,CAAR;AAMD;AACF,GAdD;;AAgBA,WAASR,OAAT,GAAmB;AACjB,WAAO;AAACS,MAAAA,IAAI,EAAEhB,iBAAiB,CAACsB;AAAzB,KAAP;AACD;;AAED,WAASb,OAAT,CAAiBS,QAAjB,EAA2B;AACzB,WAAO;AAACF,MAAAA,IAAI,EAAEhB,iBAAiB,CAACuB,uBAAzB;AAAkDL,MAAAA;AAAlD,KAAP;AACD;;AAED,WAASP,OAAT,CAAiBS,MAAjB,EAAyB;AACvB,WAAO;AAACJ,MAAAA,IAAI,EAAEhB,iBAAiB,CAACwB,uBAAzB;AAAkDJ,MAAAA;AAAlD,KAAP;AACD;AAEF","sourcesContent":["import { discountService } from \"../services\";\r\nimport { alertActions } from \"./\";\r\nimport {discountConstants} from '../constants';\r\n\r\n\r\nexport const discountActions = {\r\n    createDiscount,\r\n    removeDiscount,\r\n};\r\n\r\nfunction createDiscount(discountObj,postId) {\r\n    return async (dispatch) => {\r\n      await dispatch(request());\r\n      try {\r\n        const {data} =await discountService.createDiscount(discountObj,postId);\r\n        dispatch(success(data));\r\n      } catch (ex) {\r\n        dispatch(failure(ex));\r\n        dispatch(\r\n            alertActions.error({\r\n                header: 'Could not apply discount !',\r\n                content: ex.message,\r\n            }),\r\n        );\r\n      }\r\n    };\r\n  \r\n    function request() {\r\n      return {type: discountConstants.CREATE_DISCOUNT_REQUEST};\r\n    }\r\n  \r\n    function success(postData) {\r\n      return {type: discountConstants.CREATE_DISCOUNT_SUCCESS, postData};\r\n    }\r\n  \r\n    function failure(errors) {\r\n      return {type: discountConstants.CREATE_DISCOUNT_FAILURE, errors};\r\n    }\r\n  \r\n  }\r\n\r\n  function removeDiscount(postId) {\r\n    return async (dispatch) => {\r\n      await dispatch(request());\r\n      try {\r\n        const {data} =await discountService.removeDiscount(postId);\r\n        dispatch(success(data));\r\n      } catch (ex) {\r\n        dispatch(failure(ex));\r\n        dispatch(\r\n            alertActions.error({\r\n                header: 'Could not remove discount !',\r\n                content: ex.message,\r\n            }),\r\n        );\r\n      }\r\n    };\r\n  \r\n    function request() {\r\n      return {type: discountConstants.REMOVE_DISCOUNT_REQUEST};\r\n    }\r\n  \r\n    function success(postData) {\r\n      return {type: discountConstants.REMOVE_DISCOUNT_SUCCESS, postData};\r\n    }\r\n  \r\n    function failure(errors) {\r\n      return {type: discountConstants.REMOVE_DISCOUNT_FAILURE, errors};\r\n    }\r\n  \r\n  }"]},"metadata":{},"sourceType":"module"}