{"ast":null,"code":"var _jsxFileName = \"/media/norhan/New Volume/work/React-projects/test-redux/src/containers/RegisterPage/RegisterPage.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport { NavBar } from \"../../components/_shared/NavBar\";\nimport Footer from \"../LandingPage/Footer\";\nimport { EnterPhoneNumberSection, OTPSection, UsernamePasswordSection } from \"./Sections\";\nimport RegistrationConfirmation from \"./Sections/registrationConfirmation\";\nimport { setRegisterStep } from \"../../actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst RegisterContainer = props => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    var _props$location, _props$location$searc;\n\n    const token = props === null || props === void 0 ? void 0 : (_props$location = props.location) === null || _props$location === void 0 ? void 0 : (_props$location$searc = _props$location.search) === null || _props$location$searc === void 0 ? void 0 : _props$location$searc.split(\"=\")[1];\n\n    if (token) {\n      dispatch(setRegisterStep(1));\n    } else {\n      // .. TODO\n      alert(\"TODO : Handle no token in url error\");\n      dispatch(setRegisterStep(0));\n    }\n\n    return () => {\n      dispatch(setRegisterStep(0));\n    };\n  }, []);\n  const [currentStep, setCurrentStep] = useState(1);\n\n  const _next = () => {\n    let currentStep = setCurrentStep;\n    currentStep = currentStep >= 2 ? 3 : currentStep + 1;\n    this.setCurrentStep({\n      currentStep: currentStep\n    });\n  };\n\n  const nextButton = () => {\n    let currentStep = setCurrentStep;\n\n    if (currentStep < 3) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary float-right\",\n      type: \"button\",\n      onClick: _next,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, \"Next\");\n  };\n\n  const step = useSelector(state => state.registerReducer.step);\n  const language = localStorage.getItem(\"i18nextLng\");\n  return /*#__PURE__*/React.createElement(Container, {\n    className: `registrtionContainerParent ${language}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(EnterPhoneNumberSection, Object.assign({}, props, {\n    currentStepState: currentStep,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(OTPSection, Object.assign({\n    currentStepState: currentStep\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(UsernamePasswordSection, {\n    currentStepState: currentStep,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), step === 4 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RegistrationConfirmation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport { RegisterContainer as RegisterPage };","map":{"version":3,"sources":["/media/norhan/New Volume/work/React-projects/test-redux/src/containers/RegisterPage/RegisterPage.jsx"],"names":["React","useEffect","useState","Container","NavBar","Footer","EnterPhoneNumberSection","OTPSection","UsernamePasswordSection","RegistrationConfirmation","setRegisterStep","useDispatch","useSelector","RegisterContainer","props","dispatch","token","location","search","split","alert","currentStep","setCurrentStep","_next","nextButton","step","state","registerReducer","language","localStorage","getItem","RegisterPage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport { NavBar } from \"../../components/_shared/NavBar\";\r\nimport Footer from \"../LandingPage/Footer\";\r\nimport {\r\n  EnterPhoneNumberSection,\r\n  OTPSection,\r\n  UsernamePasswordSection,\r\n} from \"./Sections\";\r\nimport RegistrationConfirmation from \"./Sections/registrationConfirmation\";\r\n\r\nimport { setRegisterStep } from \"../../actions\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst RegisterContainer = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const token = props?.location?.search?.split(\"=\")[1];\r\n\r\n    if (token) {\r\n      dispatch(setRegisterStep(1));\r\n    } else {\r\n      // .. TODO\r\n      alert(\"TODO : Handle no token in url error\");\r\n      dispatch(setRegisterStep(0));\r\n    }\r\n\r\n    return () => {\r\n      dispatch(setRegisterStep(0));\r\n    };\r\n  }, []);\r\n\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const _next = () => {\r\n    let currentStep = setCurrentStep;\r\n    currentStep = currentStep >= 2 ? 3 : currentStep + 1;\r\n    this.setCurrentStep({\r\n      currentStep: currentStep,\r\n    });\r\n  };\r\n\r\n  const nextButton = ()=>{\r\n    let currentStep = setCurrentStep;\r\n    if(currentStep < 3){\r\n      return (\r\n null       \r\n      )\r\n    }\r\n    return(\r\n      <button \r\n      className=\"btn btn-primary float-right\" \r\n      type=\"button\" onClick={_next}>\r\n    Next\r\n    </button> \r\n    );\r\n  }\r\n    \r\n  const step = useSelector((state) => state.registerReducer.step);\r\nconst language = localStorage.getItem(\"i18nextLng\");\r\n  return (\r\n    <Container className={`registrtionContainerParent ${language}`}>\r\n      <NavBar />\r\n\r\n      <EnterPhoneNumberSection {...props} currentStepState={currentStep} />\r\n      <OTPSection currentStepState={currentStep} {...props}/>\r\n      <UsernamePasswordSection currentStepState={currentStep} />\r\n      {step === 4  ? (\r\n        <>\r\n          <RegistrationConfirmation />\r\n        </>\r\n      ) : (\r\n        <div />\r\n      )}\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport { RegisterContainer as RegisterPage };\r\n"]},"metadata":{},"sourceType":"module"}